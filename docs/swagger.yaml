basePath: /api
definitions:
  handlers.AdminCheckRequest:
    properties:
      pass:
        type: string
    required:
    - pass
    type: object
  handlers.AdminStatusResponse:
    properties:
      isAdmin:
        type: boolean
    type: object
  handlers.EducationImageUpdateRequest:
    properties:
      id:
        type: integer
      image_url:
        type: string
    required:
    - id
    - image_url
    type: object
  handlers.ErrorResponse:
    properties:
      error:
        type: string
    type: object
  handlers.ExperienceOrderUpdate:
    properties:
      id:
        type: integer
      order_index:
        type: integer
    type: object
  handlers.ExperienceResponse:
    properties:
      experience:
        $ref: '#/definitions/models.Experience'
    type: object
  handlers.ExperiencesResponse:
    properties:
      experience:
        items:
          $ref: '#/definitions/models.Experience'
        type: array
    type: object
  handlers.FanAuthLoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  handlers.FanAuthLoginResponse:
    properties:
      message:
        type: string
      user:
        $ref: '#/definitions/handlers.FanPublicUserResponse'
    type: object
  handlers.FanAuthRegisterRequest:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
      username:
        type: string
    required:
    - email
    - password
    - username
    type: object
  handlers.FanAuthRegisterResponse:
    properties:
      message:
        type: string
      user:
        $ref: '#/definitions/handlers.FanPublicUserResponse'
    type: object
  handlers.FanAuthResendVerificationRequest:
    properties:
      email:
        type: string
    required:
    - email
    type: object
  handlers.FanOAuthInitResponse:
    properties:
      state:
        type: string
      url:
        type: string
    type: object
  handlers.FanProfilePhotoResponse:
    properties:
      message:
        type: string
      profile_photo:
        type: string
    type: object
  handlers.FanPublicProfileResponse:
    properties:
      bio:
        type: string
      message:
        type: string
      profile_photo:
        type: string
    type: object
  handlers.FanPublicUserResponse:
    properties:
      bio:
        type: string
      created_at:
        type: string
      email:
        type: string
      email_verified:
        type: boolean
      id:
        type: integer
      is_admin:
        type: boolean
      profile_photo:
        type: string
      username:
        type: string
    type: object
  handlers.FanUpdateProfileRequest:
    properties:
      bio:
        type: string
      profile_photo:
        type: string
    type: object
  handlers.GuestPopupConfigRequest:
    properties:
      benefits:
        type: string
      title:
        type: string
    required:
    - benefits
    - title
    type: object
  handlers.GuestPopupConfigResponse:
    properties:
      benefits:
        description: JSON array of benefit strings
        type: string
      created_at:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      title:
        type: string
      updated_at:
        type: string
    type: object
  handlers.ImageUploadResponse:
    properties:
      img_path:
        type: string
      message:
        type: string
    type: object
  handlers.MessageResponse:
    properties:
      message:
        type: string
    type: object
  handlers.MysteryCodeRequest:
    properties:
      code:
        type: string
    required:
    - code
    type: object
  handlers.OverallStatisticsResponse:
    properties:
      active_users_today:
        type: integer
      guest_visitors_24h:
        type: integer
      guest_visitors_ever:
        type: integer
      registered_visitors_24h:
        type: integer
      registered_visitors_ever:
        type: integer
      total_hours:
        type: number
      total_users:
        type: integer
      unique_visitors_24h:
        type: integer
      unique_visitors_ever:
        type: integer
    type: object
  handlers.PostCreateRequest:
    properties:
      content_md:
        type: string
      name:
        type: string
      parent_id:
        type: integer
    required:
    - content_md
    - name
    - parent_id
    type: object
  handlers.PostUpdateRequest:
    properties:
      content_md:
        type: string
      id:
        type: integer
      name:
        type: string
    required:
    - id
    type: object
  handlers.ProjectImageUpdateRequest:
    properties:
      id:
        type: integer
      image_url:
        type: string
    required:
    - id
    - image_url
    type: object
  handlers.StreakResponse:
    properties:
      streak:
        type: integer
    type: object
  handlers.TotalHoursResponse:
    properties:
      total_hours:
        type: number
    type: object
  handlers.TrackingSessionRequest:
    properties:
      session_id:
        type: string
    required:
    - session_id
    type: object
  models.CoreSkill:
    properties:
      bullet_points:
        items:
          type: string
        type: array
      created_at:
        type: string
      id:
        type: integer
      name:
        type: string
      order_index:
        type: integer
      updated_at:
        type: string
    type: object
  models.Education:
    properties:
      degree:
        type: string
      end_date:
        type: string
      id:
        type: integer
      image_url:
        type: string
      link:
        type: string
      school:
        type: string
      start_date:
        type: string
    type: object
  models.Experience:
    properties:
      bullet_points:
        items:
          type: string
        type: array
      company:
        type: string
      description:
        type: string
      end_date:
        type: string
      id:
        type: integer
      image_url:
        type: string
      order_index:
        type: integer
      position:
        type: string
      present:
        type: boolean
      start_date:
        type: string
    type: object
  models.FanTracking:
    properties:
      created_at:
        type: string
      duration:
        description: Duration in seconds
        type: integer
      end_time:
        description: Nullable for active sessions
        type: string
      id:
        type: integer
      session_id:
        type: string
      start_time:
        type: string
      updated_at:
        type: string
      user_id:
        description: Nullable for guest fans, keeping column name as user_id
        type: integer
    type: object
  models.MysteryCode:
    properties:
      code:
        type: string
      created_at:
        type: string
      id:
        type: integer
      is_used:
        type: boolean
      updated_at:
        type: string
      used_at:
        type: string
      used_by:
        description: UserID who used this code
        type: integer
    type: object
  models.Post:
    properties:
      content_md:
        type: string
      created_at:
        type: string
      id:
        type: integer
      name:
        type: string
      parent_id:
        type: integer
      parent_type:
        type: string
      updated_at:
        type: string
    type: object
  models.Profile:
    properties:
      bio:
        type: string
      email:
        type: string
      github:
        type: string
      id:
        type: integer
      linkedin:
        type: string
      name:
        type: string
    type: object
  models.Project:
    properties:
      created_at:
        description: Auto
        type: string
      description:
        type: string
      id:
        description: Auto
        type: integer
      image_url:
        type: string
      link:
        type: string
      name:
        type: string
      updated_at:
        description: Auto
        type: string
    type: object
  repositories.DailyActiveUsersPoint:
    properties:
      count:
        type: integer
      date:
        type: string
    type: object
  repositories.FansOverTimePoint:
    properties:
      count:
        type: integer
      hour:
        type: string
    type: object
info:
  contact: {}
  description: Backend API documentation for anoweb.
  title: anoweb API
  version: "1.0"
paths:
  /admin:
    post:
      consumes:
      - application/json
      parameters:
      - description: Admin password
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.AdminCheckRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
      summary: Validate admin password
      tags:
      - admin
  /admin/logout:
    post:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
      summary: Logout admin (clear key cookie)
      tags:
      - admin
  /admin/status:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AdminStatusResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.AdminStatusResponse'
      summary: Check admin status
      tags:
      - admin
  /auth/google:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.FanOAuthInitResponse'
        "503":
          description: Service Unavailable
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Start Google OAuth
      tags:
      - oauth
  /auth/google/callback:
    get:
      parameters:
      - description: Authorization code
        in: query
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "302":
          description: Found
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Google OAuth callback
      tags:
      - oauth
  /auth/login:
    post:
      consumes:
      - application/json
      parameters:
      - description: Login
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.FanAuthLoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.FanAuthLoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Login
      tags:
      - auth
  /auth/logout:
    post:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
      summary: Logout
      tags:
      - auth
  /auth/me:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.FanPublicUserResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Current user
      tags:
      - auth
  /auth/register:
    post:
      consumes:
      - application/json
      parameters:
      - description: Registration
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.FanAuthRegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.FanAuthRegisterResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Register
      tags:
      - auth
  /auth/resend-verification:
    post:
      consumes:
      - application/json
      parameters:
      - description: Email
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.FanAuthResendVerificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Resend verification email
      tags:
      - auth
  /auth/verify-email:
    get:
      parameters:
      - description: Verification token
        in: query
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Verify email
      tags:
      - auth
  /core-skill:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.CoreSkill'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List core skills
      tags:
      - core-skill
    post:
      consumes:
      - application/json
      parameters:
      - description: Core skill
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/models.CoreSkill'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.CoreSkill'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create core skill
      tags:
      - core-skill
    put:
      consumes:
      - application/json
      parameters:
      - description: Core skill fields
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/models.CoreSkill'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.CoreSkill'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update core skill
      tags:
      - core-skill
  /core-skill/{id}:
    delete:
      parameters:
      - description: Core skill ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Delete core skill
      tags:
      - core-skill
  /core-skill/update-order:
    post:
      consumes:
      - application/json
      parameters:
      - description: Core skills with updated order_index
        in: body
        name: body
        required: true
        schema:
          items:
            $ref: '#/definitions/models.CoreSkill'
          type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update core skill order
      tags:
      - core-skill
  /education:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Education'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List educations
      tags:
      - education
    post:
      consumes:
      - application/json
      parameters:
      - description: Education
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/models.Education'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Education'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create education
      tags:
      - education
    put:
      consumes:
      - application/json
      parameters:
      - description: Education fields
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/models.Education'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Education'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update education
      tags:
      - education
  /education/{id}:
    delete:
      parameters:
      - description: Education ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Delete education
      tags:
      - education
  /education/image:
    post:
      consumes:
      - application/json
      parameters:
      - description: Education image update
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.EducationImageUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Education'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update education image URL
      tags:
      - education
  /education/upload-image:
    post:
      consumes:
      - multipart/form-data
      parameters:
      - description: Image file
        in: formData
        name: file
        required: true
        type: file
      produces:
      - text/plain
      responses:
        "200":
          description: OK
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      summary: Upload education image
      tags:
      - education
  /experience:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.ExperiencesResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List experiences
      tags:
      - experience
    post:
      consumes:
      - application/json
      parameters:
      - description: Experience
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/models.Experience'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.ExperienceResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
      summary: Create experience
      tags:
      - experience
    put:
      consumes:
      - application/json
      parameters:
      - description: Experience fields
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/models.Experience'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.ExperienceResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
      summary: Update experience
      tags:
      - experience
  /experience/{id}:
    delete:
      parameters:
      - description: Experience ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
      summary: Delete experience
      tags:
      - experience
    get:
      parameters:
      - description: Experience ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.ExperienceResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
      summary: Get experience
      tags:
      - experience
  /experience/order:
    put:
      consumes:
      - application/json
      parameters:
      - description: Order updates
        in: body
        name: body
        required: true
        schema:
          items:
            $ref: '#/definitions/handlers.ExperienceOrderUpdate'
          type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update experience order
      tags:
      - experience
  /experience/short:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Experience'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List experiences (short)
      tags:
      - experience
  /experience/upload-experience-img:
    post:
      consumes:
      - multipart/form-data
      parameters:
      - description: Image file
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.ImageUploadResponse'
        "400":
          description: Bad Request
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      summary: Upload experience image
      tags:
      - experience
  /fan/list:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/handlers.FanPublicUserResponse'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List users
      tags:
      - fan
  /fan/profile:
    put:
      consumes:
      - application/json
      parameters:
      - description: Profile fields
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.FanUpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.FanPublicProfileResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update profile
      tags:
      - fan
  /fan/profile/photo:
    post:
      consumes:
      - multipart/form-data
      parameters:
      - description: Image file
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.FanProfilePhotoResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Upload profile photo
      tags:
      - fan
  /guest-popup/{id}:
    put:
      consumes:
      - application/json
      parameters:
      - description: Config ID
        in: path
        name: id
        required: true
        type: integer
      - description: Config
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.GuestPopupConfigRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update guest popup config
      tags:
      - guest-popup
  /guest-popup/active:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.GuestPopupConfigResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get active guest popup config
      tags:
      - guest-popup
  /guest-popup/create:
    post:
      consumes:
      - application/json
      parameters:
      - description: Config
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.GuestPopupConfigRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.GuestPopupConfigResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create guest popup config
      tags:
      - guest-popup
  /guest-popup/list:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/handlers.GuestPopupConfigResponse'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List guest popup configs
      tags:
      - guest-popup
  /home:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
      summary: Home message
      tags:
      - home
  /mystery-code/create:
    post:
      consumes:
      - application/json
      parameters:
      - description: Mystery code
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.MysteryCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.MysteryCode'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create a mystery code
      tags:
      - mystery-code
  /mystery-code/list:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.MysteryCode'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List mystery codes
      tags:
      - mystery-code
  /mystery-code/verify:
    post:
      consumes:
      - application/json
      parameters:
      - description: Mystery code
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.MysteryCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Verify a mystery code
      tags:
      - mystery-code
  /post:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Post'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List posts
      tags:
      - post
    post:
      consumes:
      - application/json
      parameters:
      - description: Post
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.PostCreateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Post'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create post
      tags:
      - post
    put:
      consumes:
      - application/json
      parameters:
      - description: Post fields
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.PostUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Post'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update post
      tags:
      - post
  /post/{id}:
    delete:
      parameters:
      - description: Post ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Delete post
      tags:
      - post
    get:
      parameters:
      - description: Post ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Post'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get post
      tags:
      - post
  /post/latest:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Post'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get latest post
      tags:
      - post
  /post/project/{id}:
    get:
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Post'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List posts for project
      tags:
      - post
  /profile:
    delete:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Delete profile
      tags:
      - profile
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Profile'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get profile
      tags:
      - profile
    post:
      consumes:
      - application/json
      parameters:
      - description: Profile
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/models.Profile'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Profile'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create profile
      tags:
      - profile
    put:
      consumes:
      - application/json
      parameters:
      - description: Profile fields
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/models.Profile'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Profile'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update profile
      tags:
      - profile
  /profile/upload-image:
    post:
      consumes:
      - multipart/form-data
      parameters:
      - description: Image file
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.ImageUploadResponse'
        "400":
          description: Bad Request
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      summary: Upload profile image
      tags:
      - profile
  /project:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.Project'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List projects
      tags:
      - project
    post:
      consumes:
      - application/json
      parameters:
      - description: Project
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/models.Project'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.Project'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create project
      tags:
      - project
    put:
      consumes:
      - application/json
      parameters:
      - description: Project fields
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/models.Project'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Project'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update project
      tags:
      - project
  /project/{id}:
    delete:
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Delete project
      tags:
      - project
  /project/update-image-url:
    post:
      consumes:
      - application/json
      parameters:
      - description: Project image update
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.ProjectImageUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.Project'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update project image URL
      tags:
      - project
  /static/upload-image:
    post:
      consumes:
      - multipart/form-data
      parameters:
      - description: Image file
        in: formData
        name: file
        required: true
        type: file
      produces:
      - text/plain
      responses:
        "200":
          description: OK
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            type: string
        "500":
          description: Internal Server Error
          schema:
            type: string
      summary: Upload image
      tags:
      - static
  /statistics/daily-active:
    get:
      parameters:
      - default: 30
        description: Days (1-365)
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/repositories.DailyActiveUsersPoint'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Daily active users
      tags:
      - statistics
  /statistics/overall:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.OverallStatisticsResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Overall statistics
      tags:
      - statistics
  /statistics/streak:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.StreakResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Current user streak
      tags:
      - statistics
  /statistics/users-over-time:
    get:
      parameters:
      - default: 24
        description: Hours (1-168)
        in: query
        name: hours
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/repositories.FansOverTimePoint'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Visitors over time
      tags:
      - statistics
  /tracking/end:
    post:
      consumes:
      - application/json
      parameters:
      - description: Session
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.TrackingSessionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: End tracking
      tags:
      - tracking
  /tracking/records:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.FanTracking'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List tracking records
      tags:
      - tracking
  /tracking/start:
    post:
      consumes:
      - application/json
      parameters:
      - description: Session
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.TrackingSessionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.FanTracking'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Start tracking
      tags:
      - tracking
  /tracking/total-hours:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.TotalHoursResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Total tracked hours
      tags:
      - tracking
  /tracking/update:
    post:
      consumes:
      - application/json
      parameters:
      - description: Session
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.TrackingSessionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.MessageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update tracking
      tags:
      - tracking
  /tracking/user-hours:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.TotalHoursResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Current user tracked hours
      tags:
      - tracking
  /user/list:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/handlers.FanPublicUserResponse'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: List users
      tags:
      - fan
  /user/profile:
    put:
      consumes:
      - application/json
      parameters:
      - description: Profile fields
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/handlers.FanUpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.FanPublicProfileResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Update profile
      tags:
      - fan
  /user/profile/photo:
    post:
      consumes:
      - multipart/form-data
      parameters:
      - description: Image file
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.FanProfilePhotoResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Upload profile photo
      tags:
      - fan
swagger: "2.0"
